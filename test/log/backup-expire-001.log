run 001 - local
===============

+ supplemental file: [TEST_PATH]/backrest/backup/db/backup.info
---------------------------------------------------------------
[backrest]
backrest-checksum="[CHECKSUM]"
backrest-format=[FORMAT-1]
backrest-version="[VERSION-1]"

[backup:current]
[BACKUP-FULL-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000002","backup-archive-stop":"000000010000000000000002","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000004","backup-archive-stop":"000000010000000000000004","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-1]","backup-reference":["[BACKUP-FULL-1]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000006","backup-archive-stop":"000000010000000000000006","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-1]","backup-reference":["[BACKUP-FULL-1]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000008","backup-archive-stop":"000000010000000000000008","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000A","backup-archive-stop":"00000001000000000000000A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000C","backup-archive-stop":"00000001000000000000000C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000E","backup-archive-stop":"00000001000000000000000E","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000010","backup-archive-stop":"000000010000000000000010","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000012","backup-archive-stop":"000000010000000000000012","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000014","backup-archive-stop":"000000010000000000000014","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000016","backup-archive-stop":"000000010000000000000016","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-5]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000018","backup-archive-stop":"000000010000000000000018","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001A","backup-archive-stop":"00000001000000000000001A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-4]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-6]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001C","backup-archive-stop":"00000001000000000000001C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}

[backup:history]
[BACKUP-FULL-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000002","backup-archive-stop":"000000010000000000000002","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000004","backup-archive-stop":"000000010000000000000004","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-1]","backup-reference":["[BACKUP-FULL-1]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000006","backup-archive-stop":"000000010000000000000006","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-1]","backup-reference":["[BACKUP-FULL-1]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000008","backup-archive-stop":"000000010000000000000008","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000A","backup-archive-stop":"00000001000000000000000A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000C","backup-archive-stop":"00000001000000000000000C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000E","backup-archive-stop":"00000001000000000000000E","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000010","backup-archive-stop":"000000010000000000000010","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000012","backup-archive-stop":"000000010000000000000012","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000014","backup-archive-stop":"000000010000000000000014","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000016","backup-archive-stop":"000000010000000000000016","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-5]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000018","backup-archive-stop":"000000010000000000000018","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001A","backup-archive-stop":"00000001000000000000001A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-4]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-6]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001C","backup-archive-stop":"00000001000000000000001C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}

[db]
db-catalog-version=201306121
db-control-version=937
db-id=1
db-system-id=[DB-SYSTEM-ID-1]
db-version="9.3"

[db:history]
1={"db-catalog-version":201306121,"db-control-version":937,"db-system-id":[DB-SYSTEM-ID-1],"db-version":"9.3"}

> ../bin/pg_backrest --config=[TEST_PATH]/db/pg_backrest.conf --stanza=db expire --retention-full=2
------------------------------------------------------------------------------------------------------------------------------------
DEBUG:     BackupInfo->new: backupClusterPath = [TEST_PATH]/backrest/backup/db
DEBUG:     BackupCommon::backupRegExpGet: full = 1, differential = 0, incremental = 0: ^[0-9]{8}\-[0-9]{6}F$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F$, sort reverse
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[BACKUP-FULL-1].*, sort reverse
DEBUG:     BackupInfo->backupRemove: backupLabel = [BACKUP-INCR-1]
DEBUG:     BackupInfo->backupRemove: backupLabel = [BACKUP-DIFF-1]
DEBUG:     BackupInfo->backupRemove: backupLabel = [BACKUP-FULL-1]
 INFO: remove expired full backup: [BACKUP-FULL-1]
 INFO: archive rentention type not set - archive logs will not be expired
DEBUG:     safe exit called, terminating threads

+ supplemental file: [TEST_PATH]/backrest/backup/db/backup.info
---------------------------------------------------------------
[backrest]
backrest-checksum="[CHECKSUM]"
backrest-format=[FORMAT-1]
backrest-version="[VERSION-1]"

[backup:current]
[BACKUP-FULL-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000008","backup-archive-stop":"000000010000000000000008","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000A","backup-archive-stop":"00000001000000000000000A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000C","backup-archive-stop":"00000001000000000000000C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000E","backup-archive-stop":"00000001000000000000000E","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000010","backup-archive-stop":"000000010000000000000010","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000012","backup-archive-stop":"000000010000000000000012","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000014","backup-archive-stop":"000000010000000000000014","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000016","backup-archive-stop":"000000010000000000000016","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-5]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000018","backup-archive-stop":"000000010000000000000018","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001A","backup-archive-stop":"00000001000000000000001A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-4]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-6]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001C","backup-archive-stop":"00000001000000000000001C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}

[backup:history]
[BACKUP-FULL-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000002","backup-archive-stop":"000000010000000000000002","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000004","backup-archive-stop":"000000010000000000000004","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-1]","backup-reference":["[BACKUP-FULL-1]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000006","backup-archive-stop":"000000010000000000000006","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-1]","backup-reference":["[BACKUP-FULL-1]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000008","backup-archive-stop":"000000010000000000000008","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000A","backup-archive-stop":"00000001000000000000000A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000C","backup-archive-stop":"00000001000000000000000C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000E","backup-archive-stop":"00000001000000000000000E","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000010","backup-archive-stop":"000000010000000000000010","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000012","backup-archive-stop":"000000010000000000000012","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000014","backup-archive-stop":"000000010000000000000014","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000016","backup-archive-stop":"000000010000000000000016","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-5]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000018","backup-archive-stop":"000000010000000000000018","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001A","backup-archive-stop":"00000001000000000000001A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-4]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-6]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001C","backup-archive-stop":"00000001000000000000001C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}

[db]
db-catalog-version=201306121
db-control-version=937
db-id=1
db-system-id=[DB-SYSTEM-ID-1]
db-version="9.3"

[db:history]
1={"db-catalog-version":201306121,"db-control-version":937,"db-system-id":[DB-SYSTEM-ID-1],"db-version":"9.3"}

> ../bin/pg_backrest --config=[TEST_PATH]/db/pg_backrest.conf --stanza=db expire --retention-diff=3
------------------------------------------------------------------------------------------------------------------------------------
DEBUG:     BackupInfo->new: backupClusterPath = [TEST_PATH]/backrest/backup/db
DEBUG:     BackupCommon::backupRegExpGet: full = 0, differential = 1, incremental = 0: ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}D$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}D$, sort reverse
DEBUG:     differential expiration based on [BACKUP-DIFF-4]
DEBUG:     BackupCommon::backupRegExpGet: full = 0, differential = 1, incremental = 1: ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}(D|I)$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}(D|I)$, sort reverse
DEBUG:     checking [BACKUP-DIFF-6] for differential expiration
DEBUG:     checking [BACKUP-INCR-5] for differential expiration
DEBUG:     checking [BACKUP-INCR-4] for differential expiration
DEBUG:     checking [BACKUP-INCR-3] for differential expiration
DEBUG:     checking [BACKUP-DIFF-5] for differential expiration
DEBUG:     checking [BACKUP-DIFF-4] for differential expiration
DEBUG:     checking [BACKUP-DIFF-3] for differential expiration
DEBUG:     BackupInfo->backupRemove: backupLabel = [BACKUP-DIFF-3]
 INFO: remove expired diff/incr backup [BACKUP-DIFF-3]
DEBUG:     checking [BACKUP-INCR-2] for differential expiration
DEBUG:     BackupInfo->backupRemove: backupLabel = [BACKUP-INCR-2]
 INFO: remove expired diff/incr backup [BACKUP-INCR-2]
DEBUG:     checking [BACKUP-DIFF-2] for differential expiration
DEBUG:     BackupInfo->backupRemove: backupLabel = [BACKUP-DIFF-2]
 INFO: remove expired diff/incr backup [BACKUP-DIFF-2]
 INFO: archive rentention type not set - archive logs will not be expired
DEBUG:     safe exit called, terminating threads

+ supplemental file: [TEST_PATH]/backrest/backup/db/backup.info
---------------------------------------------------------------
[backrest]
backrest-checksum="[CHECKSUM]"
backrest-format=[FORMAT-1]
backrest-version="[VERSION-1]"

[backup:current]
[BACKUP-FULL-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000008","backup-archive-stop":"000000010000000000000008","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000010","backup-archive-stop":"000000010000000000000010","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000012","backup-archive-stop":"000000010000000000000012","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000014","backup-archive-stop":"000000010000000000000014","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000016","backup-archive-stop":"000000010000000000000016","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-5]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000018","backup-archive-stop":"000000010000000000000018","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001A","backup-archive-stop":"00000001000000000000001A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-4]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-6]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001C","backup-archive-stop":"00000001000000000000001C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}

[backup:history]
[BACKUP-FULL-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000002","backup-archive-stop":"000000010000000000000002","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000004","backup-archive-stop":"000000010000000000000004","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-1]","backup-reference":["[BACKUP-FULL-1]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000006","backup-archive-stop":"000000010000000000000006","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-1]","backup-reference":["[BACKUP-FULL-1]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000008","backup-archive-stop":"000000010000000000000008","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000A","backup-archive-stop":"00000001000000000000000A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000C","backup-archive-stop":"00000001000000000000000C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000E","backup-archive-stop":"00000001000000000000000E","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000010","backup-archive-stop":"000000010000000000000010","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000012","backup-archive-stop":"000000010000000000000012","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000014","backup-archive-stop":"000000010000000000000014","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000016","backup-archive-stop":"000000010000000000000016","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-5]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000018","backup-archive-stop":"000000010000000000000018","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001A","backup-archive-stop":"00000001000000000000001A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-4]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-6]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001C","backup-archive-stop":"00000001000000000000001C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}

[db]
db-catalog-version=201306121
db-control-version=937
db-id=1
db-system-id=[DB-SYSTEM-ID-1]
db-version="9.3"

[db:history]
1={"db-catalog-version":201306121,"db-control-version":937,"db-system-id":[DB-SYSTEM-ID-1],"db-version":"9.3"}

> ../bin/pg_backrest --config=[TEST_PATH]/db/pg_backrest.conf --stanza=db expire --retention-full=2 --retention-diff=3
------------------------------------------------------------------------------------------------------------------------------------
DEBUG:     BackupInfo->new: backupClusterPath = [TEST_PATH]/backrest/backup/db
DEBUG:     BackupCommon::backupRegExpGet: full = 1, differential = 0, incremental = 0: ^[0-9]{8}\-[0-9]{6}F$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F$, sort reverse
DEBUG:     BackupCommon::backupRegExpGet: full = 0, differential = 1, incremental = 0: ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}D$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}D$, sort reverse
DEBUG:     differential expiration based on [BACKUP-DIFF-4]
DEBUG:     BackupCommon::backupRegExpGet: full = 0, differential = 1, incremental = 1: ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}(D|I)$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}(D|I)$, sort reverse
DEBUG:     checking [BACKUP-DIFF-6] for differential expiration
DEBUG:     checking [BACKUP-INCR-5] for differential expiration
DEBUG:     checking [BACKUP-INCR-4] for differential expiration
DEBUG:     checking [BACKUP-INCR-3] for differential expiration
DEBUG:     checking [BACKUP-DIFF-5] for differential expiration
DEBUG:     checking [BACKUP-DIFF-4] for differential expiration
 INFO: archive rentention type not set - archive logs will not be expired
DEBUG:     safe exit called, terminating threads

+ supplemental file: [TEST_PATH]/backrest/backup/db/backup.info
---------------------------------------------------------------
[backrest]
backrest-checksum="[CHECKSUM]"
backrest-format=[FORMAT-1]
backrest-version="[VERSION-1]"

[backup:current]
[BACKUP-FULL-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000008","backup-archive-stop":"000000010000000000000008","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000010","backup-archive-stop":"000000010000000000000010","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000012","backup-archive-stop":"000000010000000000000012","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000014","backup-archive-stop":"000000010000000000000014","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000016","backup-archive-stop":"000000010000000000000016","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-5]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000018","backup-archive-stop":"000000010000000000000018","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001A","backup-archive-stop":"00000001000000000000001A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-4]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-6]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001C","backup-archive-stop":"00000001000000000000001C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}

[backup:history]
[BACKUP-FULL-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000002","backup-archive-stop":"000000010000000000000002","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000004","backup-archive-stop":"000000010000000000000004","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-1]","backup-reference":["[BACKUP-FULL-1]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000006","backup-archive-stop":"000000010000000000000006","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-1]","backup-reference":["[BACKUP-FULL-1]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000008","backup-archive-stop":"000000010000000000000008","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000A","backup-archive-stop":"00000001000000000000000A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000C","backup-archive-stop":"00000001000000000000000C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000E","backup-archive-stop":"00000001000000000000000E","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000010","backup-archive-stop":"000000010000000000000010","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000012","backup-archive-stop":"000000010000000000000012","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000014","backup-archive-stop":"000000010000000000000014","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000016","backup-archive-stop":"000000010000000000000016","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-5]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000018","backup-archive-stop":"000000010000000000000018","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001A","backup-archive-stop":"00000001000000000000001A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-4]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-6]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001C","backup-archive-stop":"00000001000000000000001C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}

[db]
db-catalog-version=201306121
db-control-version=937
db-id=1
db-system-id=[DB-SYSTEM-ID-1]
db-version="9.3"

[db:history]
1={"db-catalog-version":201306121,"db-control-version":937,"db-system-id":[DB-SYSTEM-ID-1],"db-version":"9.3"}

> ../bin/pg_backrest --config=[TEST_PATH]/db/pg_backrest.conf --stanza=db expire --retention-full=2 --retention-diff=3 --retention-archive-type=full --retention-archive=2
------------------------------------------------------------------------------------------------------------------------------------
DEBUG:     BackupInfo->new: backupClusterPath = [TEST_PATH]/backrest/backup/db
DEBUG:     BackupCommon::backupRegExpGet: full = 1, differential = 0, incremental = 0: ^[0-9]{8}\-[0-9]{6}F$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F$, sort reverse
DEBUG:     BackupCommon::backupRegExpGet: full = 0, differential = 1, incremental = 0: ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}D$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}D$, sort reverse
DEBUG:     differential expiration based on [BACKUP-DIFF-4]
DEBUG:     BackupCommon::backupRegExpGet: full = 0, differential = 1, incremental = 1: ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}(D|I)$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}(D|I)$, sort reverse
DEBUG:     checking [BACKUP-DIFF-6] for differential expiration
DEBUG:     checking [BACKUP-INCR-5] for differential expiration
DEBUG:     checking [BACKUP-INCR-4] for differential expiration
DEBUG:     checking [BACKUP-INCR-3] for differential expiration
DEBUG:     checking [BACKUP-DIFF-5] for differential expiration
DEBUG:     checking [BACKUP-DIFF-4] for differential expiration
DEBUG:     BackupCommon::backupRegExpGet: full = 1, differential = 0, incremental = 0: ^[0-9]{8}\-[0-9]{6}F$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F$, sort reverse
 INFO: archive retention based on backup [BACKUP-FULL-2]
 INFO: archive retention starts at 000000010000000000000008
DEBUG:     ArchiveInfo->new(): archiveClusterPath = [TEST_PATH]/backrest/archive/db
DEBUG:     Archive->getCheck=>: archiveId = 9.3-1
DEBUG:     File->list: backup:archive:[TEST_PATH]/backrest/archive/db/9.3-1, expression ^[0-F]{16}$, sort forward
DEBUG:     found major archive path 0000000000000000
DEBUG:     remove major archive path [TEST_PATH]/backrest/archive/db/9.3-1/0000000000000000
DEBUG:     found major archive path 0000000100000000
DEBUG:     File->list: backup:archive:[TEST_PATH]/backrest/archive/db/9.3-1/0000000100000000, expression ^[0-F]{24}.*$, sort forward
DEBUG:     remove expired archive file 000000010000000000000001-[CHECKSUM]
DEBUG:     remove expired archive file 000000010000000000000002-[CHECKSUM]
DEBUG:     remove expired archive file 000000010000000000000002.00000028.backup
DEBUG:     remove expired archive file 000000010000000000000003-[CHECKSUM]
DEBUG:     remove expired archive file 000000010000000000000004-[CHECKSUM]
DEBUG:     remove expired archive file 000000010000000000000004.00000028.backup
DEBUG:     remove expired archive file 000000010000000000000005-[CHECKSUM]
DEBUG:     remove expired archive file 000000010000000000000006-[CHECKSUM]
DEBUG:     remove expired archive file 000000010000000000000006.00000028.backup
DEBUG:     remove expired archive file 000000010000000000000007-[CHECKSUM]
DEBUG:     safe exit called, terminating threads

+ supplemental file: [TEST_PATH]/backrest/backup/db/backup.info
---------------------------------------------------------------
[backrest]
backrest-checksum="[CHECKSUM]"
backrest-format=[FORMAT-1]
backrest-version="[VERSION-1]"

[backup:current]
[BACKUP-FULL-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000008","backup-archive-stop":"000000010000000000000008","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000010","backup-archive-stop":"000000010000000000000010","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000012","backup-archive-stop":"000000010000000000000012","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000014","backup-archive-stop":"000000010000000000000014","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000016","backup-archive-stop":"000000010000000000000016","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-5]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000018","backup-archive-stop":"000000010000000000000018","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001A","backup-archive-stop":"00000001000000000000001A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-4]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-6]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001C","backup-archive-stop":"00000001000000000000001C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}

[backup:history]
[BACKUP-FULL-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000002","backup-archive-stop":"000000010000000000000002","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000004","backup-archive-stop":"000000010000000000000004","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-1]","backup-reference":["[BACKUP-FULL-1]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000006","backup-archive-stop":"000000010000000000000006","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-1]","backup-reference":["[BACKUP-FULL-1]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000008","backup-archive-stop":"000000010000000000000008","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000A","backup-archive-stop":"00000001000000000000000A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000C","backup-archive-stop":"00000001000000000000000C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000E","backup-archive-stop":"00000001000000000000000E","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000010","backup-archive-stop":"000000010000000000000010","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000012","backup-archive-stop":"000000010000000000000012","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000014","backup-archive-stop":"000000010000000000000014","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000016","backup-archive-stop":"000000010000000000000016","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-5]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000018","backup-archive-stop":"000000010000000000000018","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001A","backup-archive-stop":"00000001000000000000001A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-4]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-6]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001C","backup-archive-stop":"00000001000000000000001C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}

[db]
db-catalog-version=201306121
db-control-version=937
db-id=1
db-system-id=[DB-SYSTEM-ID-1]
db-version="9.3"

[db:history]
1={"db-catalog-version":201306121,"db-control-version":937,"db-system-id":[DB-SYSTEM-ID-1],"db-version":"9.3"}

> ../bin/pg_backrest --config=[TEST_PATH]/db/pg_backrest.conf --stanza=db expire --retention-full=2 --retention-diff=3 --retention-archive-type=diff --retention-archive=2
------------------------------------------------------------------------------------------------------------------------------------
DEBUG:     BackupInfo->new: backupClusterPath = [TEST_PATH]/backrest/backup/db
DEBUG:     BackupCommon::backupRegExpGet: full = 1, differential = 0, incremental = 0: ^[0-9]{8}\-[0-9]{6}F$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F$, sort reverse
DEBUG:     BackupCommon::backupRegExpGet: full = 0, differential = 1, incremental = 0: ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}D$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}D$, sort reverse
DEBUG:     differential expiration based on [BACKUP-DIFF-4]
DEBUG:     BackupCommon::backupRegExpGet: full = 0, differential = 1, incremental = 1: ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}(D|I)$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}(D|I)$, sort reverse
DEBUG:     checking [BACKUP-DIFF-6] for differential expiration
DEBUG:     checking [BACKUP-INCR-5] for differential expiration
DEBUG:     checking [BACKUP-INCR-4] for differential expiration
DEBUG:     checking [BACKUP-INCR-3] for differential expiration
DEBUG:     checking [BACKUP-DIFF-5] for differential expiration
DEBUG:     checking [BACKUP-DIFF-4] for differential expiration
DEBUG:     BackupCommon::backupRegExpGet: full = 1, differential = 1, incremental = 0: ^[0-9]{8}\-[0-9]{6}F(\_[0-9]{8}\-[0-9]{6}D){0,1}$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F(\_[0-9]{8}\-[0-9]{6}D){0,1}$, sort reverse
 INFO: archive retention based on backup [BACKUP-DIFF-5]
 INFO: archive retention starts at 000000010000000000000014
DEBUG:     ArchiveInfo->new(): archiveClusterPath = [TEST_PATH]/backrest/archive/db
DEBUG:     Archive->getCheck=>: archiveId = 9.3-1
DEBUG:     File->list: backup:archive:[TEST_PATH]/backrest/archive/db/9.3-1, expression ^[0-F]{16}$, sort forward
DEBUG:     found major archive path 0000000100000000
DEBUG:     File->list: backup:archive:[TEST_PATH]/backrest/archive/db/9.3-1/0000000100000000, expression ^[0-F]{24}.*$, sort forward
DEBUG:     remove expired archive file 000000010000000000000008-[CHECKSUM]
DEBUG:     remove expired archive file 000000010000000000000008.00000028.backup
DEBUG:     remove expired archive file 000000010000000000000009-[CHECKSUM]
DEBUG:     remove expired archive file 00000001000000000000000A-[CHECKSUM]
DEBUG:     remove expired archive file 00000001000000000000000A.00000028.backup
DEBUG:     remove expired archive file 00000001000000000000000B-[CHECKSUM]
DEBUG:     remove expired archive file 00000001000000000000000C-[CHECKSUM]
DEBUG:     remove expired archive file 00000001000000000000000C.00000028.backup
DEBUG:     remove expired archive file 00000001000000000000000D-[CHECKSUM]
DEBUG:     remove expired archive file 00000001000000000000000E-[CHECKSUM]
DEBUG:     remove expired archive file 00000001000000000000000E.00000028.backup
DEBUG:     remove expired archive file 00000001000000000000000F-[CHECKSUM]
DEBUG:     remove expired archive file 000000010000000000000010-[CHECKSUM]
DEBUG:     remove expired archive file 000000010000000000000010.00000028.backup
DEBUG:     remove expired archive file 000000010000000000000011-[CHECKSUM]
DEBUG:     remove expired archive file 000000010000000000000012-[CHECKSUM]
DEBUG:     remove expired archive file 000000010000000000000012.00000028.backup
DEBUG:     remove expired archive file 000000010000000000000013-[CHECKSUM]
DEBUG:     safe exit called, terminating threads

+ supplemental file: [TEST_PATH]/backrest/backup/db/backup.info
---------------------------------------------------------------
[backrest]
backrest-checksum="[CHECKSUM]"
backrest-format=[FORMAT-1]
backrest-version="[VERSION-1]"

[backup:current]
[BACKUP-FULL-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000008","backup-archive-stop":"000000010000000000000008","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000010","backup-archive-stop":"000000010000000000000010","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000012","backup-archive-stop":"000000010000000000000012","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000014","backup-archive-stop":"000000010000000000000014","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000016","backup-archive-stop":"000000010000000000000016","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-5]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000018","backup-archive-stop":"000000010000000000000018","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001A","backup-archive-stop":"00000001000000000000001A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-4]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-6]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001C","backup-archive-stop":"00000001000000000000001C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}

[backup:history]
[BACKUP-FULL-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000002","backup-archive-stop":"000000010000000000000002","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000004","backup-archive-stop":"000000010000000000000004","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-1]","backup-reference":["[BACKUP-FULL-1]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000006","backup-archive-stop":"000000010000000000000006","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-1]","backup-reference":["[BACKUP-FULL-1]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000008","backup-archive-stop":"000000010000000000000008","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000A","backup-archive-stop":"00000001000000000000000A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000C","backup-archive-stop":"00000001000000000000000C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000E","backup-archive-stop":"00000001000000000000000E","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000010","backup-archive-stop":"000000010000000000000010","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000012","backup-archive-stop":"000000010000000000000012","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000014","backup-archive-stop":"000000010000000000000014","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000016","backup-archive-stop":"000000010000000000000016","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-5]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000018","backup-archive-stop":"000000010000000000000018","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001A","backup-archive-stop":"00000001000000000000001A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-4]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-6]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001C","backup-archive-stop":"00000001000000000000001C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}

[db]
db-catalog-version=201306121
db-control-version=937
db-id=1
db-system-id=[DB-SYSTEM-ID-1]
db-version="9.3"

[db:history]
1={"db-catalog-version":201306121,"db-control-version":937,"db-system-id":[DB-SYSTEM-ID-1],"db-version":"9.3"}

> ../bin/pg_backrest --config=[TEST_PATH]/db/pg_backrest.conf --stanza=db expire --retention-full=1 --retention-diff=2 --retention-archive-type=incr --retention-archive=2
------------------------------------------------------------------------------------------------------------------------------------
DEBUG:     BackupInfo->new: backupClusterPath = [TEST_PATH]/backrest/backup/db
DEBUG:     BackupCommon::backupRegExpGet: full = 1, differential = 0, incremental = 0: ^[0-9]{8}\-[0-9]{6}F$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F$, sort reverse
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[BACKUP-FULL-2].*, sort reverse
DEBUG:     BackupInfo->backupRemove: backupLabel = [BACKUP-DIFF-4]
DEBUG:     BackupInfo->backupRemove: backupLabel = [BACKUP-FULL-2]
 INFO: remove expired full backup: [BACKUP-FULL-2]
DEBUG:     BackupCommon::backupRegExpGet: full = 0, differential = 1, incremental = 0: ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}D$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}D$, sort reverse
DEBUG:     differential expiration based on [BACKUP-DIFF-5]
DEBUG:     BackupCommon::backupRegExpGet: full = 0, differential = 1, incremental = 1: ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}(D|I)$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}(D|I)$, sort reverse
DEBUG:     checking [BACKUP-DIFF-6] for differential expiration
DEBUG:     checking [BACKUP-INCR-5] for differential expiration
DEBUG:     checking [BACKUP-INCR-4] for differential expiration
DEBUG:     checking [BACKUP-INCR-3] for differential expiration
DEBUG:     checking [BACKUP-DIFF-5] for differential expiration
DEBUG:     BackupCommon::backupRegExpGet: full = 1, differential = 1, incremental = 1: ^[0-9]{8}\-[0-9]{6}F(\_[0-9]{8}\-[0-9]{6}(D|I)){0,1}$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F(\_[0-9]{8}\-[0-9]{6}(D|I)){0,1}$, sort reverse
 INFO: archive retention based on backup [BACKUP-INCR-5]
 INFO: archive retention starts at 00000001000000000000001A
DEBUG:     ArchiveInfo->new(): archiveClusterPath = [TEST_PATH]/backrest/archive/db
DEBUG:     Archive->getCheck=>: archiveId = 9.3-1
DEBUG:     File->list: backup:archive:[TEST_PATH]/backrest/archive/db/9.3-1, expression ^[0-F]{16}$, sort forward
DEBUG:     found major archive path 0000000100000000
DEBUG:     File->list: backup:archive:[TEST_PATH]/backrest/archive/db/9.3-1/0000000100000000, expression ^[0-F]{24}.*$, sort forward
DEBUG:     remove expired archive file 000000010000000000000014-[CHECKSUM]
DEBUG:     remove expired archive file 000000010000000000000014.00000028.backup
DEBUG:     remove expired archive file 000000010000000000000015-[CHECKSUM]
DEBUG:     remove expired archive file 000000010000000000000016-[CHECKSUM]
DEBUG:     remove expired archive file 000000010000000000000016.00000028.backup
DEBUG:     remove expired archive file 000000010000000000000017-[CHECKSUM]
DEBUG:     remove expired archive file 000000010000000000000018-[CHECKSUM]
DEBUG:     remove expired archive file 000000010000000000000018.00000028.backup
DEBUG:     remove expired archive file 000000010000000000000019-[CHECKSUM]
DEBUG:     safe exit called, terminating threads

+ supplemental file: [TEST_PATH]/backrest/backup/db/backup.info
---------------------------------------------------------------
[backrest]
backrest-checksum="[CHECKSUM]"
backrest-format=[FORMAT-1]
backrest-version="[VERSION-1]"

[backup:current]
[BACKUP-FULL-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000012","backup-archive-stop":"000000010000000000000012","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000014","backup-archive-stop":"000000010000000000000014","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000016","backup-archive-stop":"000000010000000000000016","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-5]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000018","backup-archive-stop":"000000010000000000000018","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001A","backup-archive-stop":"00000001000000000000001A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-4]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-6]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001C","backup-archive-stop":"00000001000000000000001C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}

[backup:history]
[BACKUP-FULL-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000002","backup-archive-stop":"000000010000000000000002","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000004","backup-archive-stop":"000000010000000000000004","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-1]","backup-reference":["[BACKUP-FULL-1]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000006","backup-archive-stop":"000000010000000000000006","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-1]","backup-reference":["[BACKUP-FULL-1]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000008","backup-archive-stop":"000000010000000000000008","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000A","backup-archive-stop":"00000001000000000000000A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000C","backup-archive-stop":"00000001000000000000000C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000E","backup-archive-stop":"00000001000000000000000E","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000010","backup-archive-stop":"000000010000000000000010","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000012","backup-archive-stop":"000000010000000000000012","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000014","backup-archive-stop":"000000010000000000000014","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000016","backup-archive-stop":"000000010000000000000016","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-5]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000018","backup-archive-stop":"000000010000000000000018","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001A","backup-archive-stop":"00000001000000000000001A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-4]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-6]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001C","backup-archive-stop":"00000001000000000000001C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}

[db]
db-catalog-version=201306121
db-control-version=937
db-id=1
db-system-id=[DB-SYSTEM-ID-1]
db-version="9.3"

[db:history]
1={"db-catalog-version":201306121,"db-control-version":937,"db-system-id":[DB-SYSTEM-ID-1],"db-version":"9.3"}

> ../bin/pg_backrest --config=[TEST_PATH]/db/pg_backrest.conf --stanza=db expire --retention-full=1 --retention-diff=1 --retention-archive-type=incr --retention-archive=2
------------------------------------------------------------------------------------------------------------------------------------
DEBUG:     BackupInfo->new: backupClusterPath = [TEST_PATH]/backrest/backup/db
DEBUG:     BackupCommon::backupRegExpGet: full = 1, differential = 0, incremental = 0: ^[0-9]{8}\-[0-9]{6}F$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F$, sort reverse
DEBUG:     BackupCommon::backupRegExpGet: full = 0, differential = 1, incremental = 0: ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}D$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}D$, sort reverse
DEBUG:     differential expiration based on [BACKUP-DIFF-6]
DEBUG:     BackupCommon::backupRegExpGet: full = 0, differential = 1, incremental = 1: ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}(D|I)$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}(D|I)$, sort reverse
DEBUG:     checking [BACKUP-DIFF-6] for differential expiration
DEBUG:     checking [BACKUP-INCR-5] for differential expiration
DEBUG:     BackupInfo->backupRemove: backupLabel = [BACKUP-INCR-5]
 INFO: remove expired diff/incr backup [BACKUP-INCR-5]
DEBUG:     checking [BACKUP-INCR-4] for differential expiration
DEBUG:     BackupInfo->backupRemove: backupLabel = [BACKUP-INCR-4]
 INFO: remove expired diff/incr backup [BACKUP-INCR-4]
DEBUG:     checking [BACKUP-INCR-3] for differential expiration
DEBUG:     BackupInfo->backupRemove: backupLabel = [BACKUP-INCR-3]
 INFO: remove expired diff/incr backup [BACKUP-INCR-3]
DEBUG:     checking [BACKUP-DIFF-5] for differential expiration
DEBUG:     BackupInfo->backupRemove: backupLabel = [BACKUP-DIFF-5]
 INFO: remove expired diff/incr backup [BACKUP-DIFF-5]
DEBUG:     BackupCommon::backupRegExpGet: full = 1, differential = 1, incremental = 1: ^[0-9]{8}\-[0-9]{6}F(\_[0-9]{8}\-[0-9]{6}(D|I)){0,1}$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F(\_[0-9]{8}\-[0-9]{6}(D|I)){0,1}$, sort reverse
 INFO: archive retention based on backup [BACKUP-FULL-3]
 INFO: archive retention starts at 000000010000000000000012
DEBUG:     ArchiveInfo->new(): archiveClusterPath = [TEST_PATH]/backrest/archive/db
DEBUG:     Archive->getCheck=>: archiveId = 9.3-1
DEBUG:     File->list: backup:archive:[TEST_PATH]/backrest/archive/db/9.3-1, expression ^[0-F]{16}$, sort forward
DEBUG:     found major archive path 0000000100000000
DEBUG:     File->list: backup:archive:[TEST_PATH]/backrest/archive/db/9.3-1/0000000100000000, expression ^[0-F]{24}.*$, sort forward
DEBUG:     safe exit called, terminating threads

+ supplemental file: [TEST_PATH]/backrest/backup/db/backup.info
---------------------------------------------------------------
[backrest]
backrest-checksum="[CHECKSUM]"
backrest-format=[FORMAT-1]
backrest-version="[VERSION-1]"

[backup:current]
[BACKUP-FULL-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000012","backup-archive-stop":"000000010000000000000012","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-6]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001C","backup-archive-stop":"00000001000000000000001C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}

[backup:history]
[BACKUP-FULL-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000002","backup-archive-stop":"000000010000000000000002","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000004","backup-archive-stop":"000000010000000000000004","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-1]","backup-reference":["[BACKUP-FULL-1]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000006","backup-archive-stop":"000000010000000000000006","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-1]","backup-reference":["[BACKUP-FULL-1]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000008","backup-archive-stop":"000000010000000000000008","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000A","backup-archive-stop":"00000001000000000000000A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000C","backup-archive-stop":"00000001000000000000000C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000E","backup-archive-stop":"00000001000000000000000E","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000010","backup-archive-stop":"000000010000000000000010","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000012","backup-archive-stop":"000000010000000000000012","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000014","backup-archive-stop":"000000010000000000000014","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000016","backup-archive-stop":"000000010000000000000016","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-5]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000018","backup-archive-stop":"000000010000000000000018","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001A","backup-archive-stop":"00000001000000000000001A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-4]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-6]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001C","backup-archive-stop":"00000001000000000000001C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}

[db]
db-catalog-version=201306121
db-control-version=937
db-id=1
db-system-id=[DB-SYSTEM-ID-1]
db-version="9.3"

[db:history]
1={"db-catalog-version":201306121,"db-control-version":937,"db-system-id":[DB-SYSTEM-ID-1],"db-version":"9.3"}

> ../bin/pg_backrest --config=[TEST_PATH]/db/pg_backrest.conf --stanza=db expire --retention-full=1 --retention-diff=1 --retention-archive-type=diff --retention-archive=2
------------------------------------------------------------------------------------------------------------------------------------
DEBUG:     BackupInfo->new: backupClusterPath = [TEST_PATH]/backrest/backup/db
DEBUG:     BackupCommon::backupRegExpGet: full = 1, differential = 0, incremental = 0: ^[0-9]{8}\-[0-9]{6}F$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F$, sort reverse
DEBUG:     BackupCommon::backupRegExpGet: full = 0, differential = 1, incremental = 0: ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}D$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}D$, sort reverse
DEBUG:     differential expiration based on [BACKUP-DIFF-6]
DEBUG:     BackupCommon::backupRegExpGet: full = 0, differential = 1, incremental = 1: ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}(D|I)$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}(D|I)$, sort reverse
DEBUG:     checking [BACKUP-DIFF-6] for differential expiration
DEBUG:     BackupCommon::backupRegExpGet: full = 1, differential = 1, incremental = 0: ^[0-9]{8}\-[0-9]{6}F(\_[0-9]{8}\-[0-9]{6}D){0,1}$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F(\_[0-9]{8}\-[0-9]{6}D){0,1}$, sort reverse
 INFO: archive retention based on backup [BACKUP-FULL-3]
 INFO: archive retention starts at 000000010000000000000012
DEBUG:     ArchiveInfo->new(): archiveClusterPath = [TEST_PATH]/backrest/archive/db
DEBUG:     Archive->getCheck=>: archiveId = 9.3-1
DEBUG:     File->list: backup:archive:[TEST_PATH]/backrest/archive/db/9.3-1, expression ^[0-F]{16}$, sort forward
DEBUG:     found major archive path 0000000100000000
DEBUG:     File->list: backup:archive:[TEST_PATH]/backrest/archive/db/9.3-1/0000000100000000, expression ^[0-F]{24}.*$, sort forward
DEBUG:     safe exit called, terminating threads

+ supplemental file: [TEST_PATH]/backrest/backup/db/backup.info
---------------------------------------------------------------
[backrest]
backrest-checksum="[CHECKSUM]"
backrest-format=[FORMAT-1]
backrest-version="[VERSION-1]"

[backup:current]
[BACKUP-FULL-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000012","backup-archive-stop":"000000010000000000000012","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-6]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001C","backup-archive-stop":"00000001000000000000001C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}

[backup:history]
[BACKUP-FULL-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000002","backup-archive-stop":"000000010000000000000002","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000004","backup-archive-stop":"000000010000000000000004","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-1]","backup-reference":["[BACKUP-FULL-1]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000006","backup-archive-stop":"000000010000000000000006","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-1]","backup-reference":["[BACKUP-FULL-1]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000008","backup-archive-stop":"000000010000000000000008","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000A","backup-archive-stop":"00000001000000000000000A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000C","backup-archive-stop":"00000001000000000000000C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000E","backup-archive-stop":"00000001000000000000000E","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000010","backup-archive-stop":"000000010000000000000010","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000012","backup-archive-stop":"000000010000000000000012","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000014","backup-archive-stop":"000000010000000000000014","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000016","backup-archive-stop":"000000010000000000000016","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-5]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000018","backup-archive-stop":"000000010000000000000018","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001A","backup-archive-stop":"00000001000000000000001A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-4]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-6]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001C","backup-archive-stop":"00000001000000000000001C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}

[db]
db-catalog-version=201306121
db-control-version=937
db-id=1
db-system-id=[DB-SYSTEM-ID-1]
db-version="9.3"

[db:history]
1={"db-catalog-version":201306121,"db-control-version":937,"db-system-id":[DB-SYSTEM-ID-1],"db-version":"9.3"}

> ../bin/pg_backrest --config=[TEST_PATH]/db/pg_backrest.conf --stanza=db expire --retention-full=1 --retention-diff=1 --retention-archive-type=diff --retention-archive=1
------------------------------------------------------------------------------------------------------------------------------------
DEBUG:     BackupInfo->new: backupClusterPath = [TEST_PATH]/backrest/backup/db
DEBUG:     BackupCommon::backupRegExpGet: full = 1, differential = 0, incremental = 0: ^[0-9]{8}\-[0-9]{6}F$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F$, sort reverse
DEBUG:     BackupCommon::backupRegExpGet: full = 0, differential = 1, incremental = 0: ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}D$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}D$, sort reverse
DEBUG:     differential expiration based on [BACKUP-DIFF-6]
DEBUG:     BackupCommon::backupRegExpGet: full = 0, differential = 1, incremental = 1: ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}(D|I)$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F\_[0-9]{8}\-[0-9]{6}(D|I)$, sort reverse
DEBUG:     checking [BACKUP-DIFF-6] for differential expiration
DEBUG:     BackupCommon::backupRegExpGet: full = 1, differential = 1, incremental = 0: ^[0-9]{8}\-[0-9]{6}F(\_[0-9]{8}\-[0-9]{6}D){0,1}$
DEBUG:     File->list: backup:cluster:[TEST_PATH]/backrest/backup/db, expression ^[0-9]{8}\-[0-9]{6}F(\_[0-9]{8}\-[0-9]{6}D){0,1}$, sort reverse
 INFO: archive retention based on backup [BACKUP-DIFF-6]
 INFO: archive retention starts at 00000001000000000000001C
DEBUG:     ArchiveInfo->new(): archiveClusterPath = [TEST_PATH]/backrest/archive/db
DEBUG:     Archive->getCheck=>: archiveId = 9.3-1
DEBUG:     File->list: backup:archive:[TEST_PATH]/backrest/archive/db/9.3-1, expression ^[0-F]{16}$, sort forward
DEBUG:     found major archive path 0000000100000000
DEBUG:     File->list: backup:archive:[TEST_PATH]/backrest/archive/db/9.3-1/0000000100000000, expression ^[0-F]{24}.*$, sort forward
DEBUG:     remove expired archive file 00000001000000000000001A-[CHECKSUM]
DEBUG:     remove expired archive file 00000001000000000000001A.00000028.backup
DEBUG:     remove expired archive file 00000001000000000000001B-[CHECKSUM]
DEBUG:     safe exit called, terminating threads

+ supplemental file: [TEST_PATH]/backrest/backup/db/backup.info
---------------------------------------------------------------
[backrest]
backrest-checksum="[CHECKSUM]"
backrest-format=[FORMAT-1]
backrest-version="[VERSION-1]"

[backup:current]
[BACKUP-FULL-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000012","backup-archive-stop":"000000010000000000000012","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-6]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001C","backup-archive-stop":"00000001000000000000001C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}

[backup:history]
[BACKUP-FULL-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000002","backup-archive-stop":"000000010000000000000002","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000004","backup-archive-stop":"000000010000000000000004","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-1]","backup-reference":["[BACKUP-FULL-1]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-1]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000006","backup-archive-stop":"000000010000000000000006","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-1]","backup-reference":["[BACKUP-FULL-1]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000008","backup-archive-stop":"000000010000000000000008","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000A","backup-archive-stop":"00000001000000000000000A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-2]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000C","backup-archive-stop":"00000001000000000000000C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000000E","backup-archive-stop":"00000001000000000000000E","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000010","backup-archive-stop":"000000010000000000000010","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-2]","backup-reference":["[BACKUP-FULL-2]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-FULL-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000012","backup-archive-stop":"000000010000000000000012","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"full","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000014","backup-archive-stop":"000000010000000000000014","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-3]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000016","backup-archive-stop":"000000010000000000000016","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-DIFF-5]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-4]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"000000010000000000000018","backup-archive-stop":"000000010000000000000018","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-INCR-5]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001A","backup-archive-stop":"00000001000000000000001A","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-INCR-4]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"incr","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}
[BACKUP-DIFF-6]={"backrest-format":4,"backrest-version":"[VERSION-1]","backup-archive-start":"00000001000000000000001C","backup-archive-stop":"00000001000000000000001C","backup-info-repo-size":[BACKUP-INFO],"backup-info-repo-size-delta":[BACKUP-INFO],"backup-info-size":[BACKUP-INFO],"backup-info-size-delta":[BACKUP-INFO],"backup-prior":"[BACKUP-FULL-3]","backup-reference":["[BACKUP-FULL-3]"],"backup-timestamp-start":[TIMESTAMP],"backup-timestamp-stop":[TIMESTAMP],"backup-type":"diff","db-id":1,"option-archive-check":true,"option-archive-copy":true,"option-compress":false,"option-hardlink":false,"option-start-stop":true}

[db]
db-catalog-version=201306121
db-control-version=937
db-id=1
db-system-id=[DB-SYSTEM-ID-1]
db-version="9.3"

[db:history]
1={"db-catalog-version":201306121,"db-control-version":937,"db-system-id":[DB-SYSTEM-ID-1],"db-version":"9.3"}
